{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { ERR_MESSAGE, PUT_WEATHER_SERVER_WEATHERBIT, PUT_WEATHER_SERVER_OPENWEATHERMAP } from \"../actions/constants\"; // const initialState = {\n//   countryCode: localStorage.getItem(\"countryCode\") || \"\",\n//   city: localStorage.getItem(\"city\") || \"\",\n//   temp: localStorage.getItem(\"temp\") || \"\",\n//   description: localStorage.getItem(\"description\") || \"\",\n//   windSpeed: localStorage.getItem(\"windSpeed\") || \"\",\n//   errMessage: \"\",\n// };\n\nconst initialState = {\n  countryCode: \"\",\n  city: \"\",\n  temp: \"\",\n  description: \"\",\n  windSpeed: \"\",\n  errMessage: \"\"\n};\n\nconst putWeatherServer = (state = initialState, action) => {\n  switch (action.type) {\n    case PUT_WEATHER_SERVER_OPENWEATHERMAP:\n      const tempServer1 = `${action.payload.main.temp.toPrecision(2)} 째C`;\n      const windSpeedServer1 = `${action.payload.wind.speed.toFixed(2)} m/s`;\n      localStorage.setItem(\"countryCode\", action.payload.sys.country);\n      localStorage.setItem(\"city\", action.payload.name);\n      localStorage.setItem(\"temp\", tempServer1);\n      localStorage.setItem(\"description\", action.payload.weather[0].description);\n      localStorage.setItem(\"windSpeed\", windSpeedServer1);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        countryCode: action.payload.sys.country,\n        city: action.payload.name,\n        temp: tempServer1,\n        description: action.payload.weather[0].description,\n        windSpeed: windSpeedServer1,\n        errMessage: \"\"\n      });\n\n    case PUT_WEATHER_SERVER_WEATHERBIT:\n      const tempServer2 = `${action.payload.data[0].temp.toPrecision(2)} 째C`;\n      const windSpeedServer2 = `${action.payload.data[0].wind_spd.toFixed(2)} m/s`;\n      localStorage.setItem(\"countryCode\", action.payload.data[0].country_code);\n      localStorage.setItem(\"city\", action.payload.data[0].city_name);\n      localStorage.setItem(\"temp\", tempServer2);\n      localStorage.setItem(\"description\", action.payload.data[0].weather.description);\n      localStorage.setItem(\"windSpeed\", windSpeedServer2);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        countryCode: action.payload.data[0].country_code,\n        city: action.payload.data[0].city_name,\n        temp: tempServer2,\n        description: action.payload.data[0].weather.description,\n        windSpeed: windSpeedServer2,\n        errMessage: \"\"\n      });\n\n    case ERR_MESSAGE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        errMessage: action.err.error || action.err.message\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default putWeatherServer;","map":{"version":3,"sources":["/home/test/work/allProjects/redux/Weather/reducers/putWeatherServer.js"],"names":["ERR_MESSAGE","PUT_WEATHER_SERVER_WEATHERBIT","PUT_WEATHER_SERVER_OPENWEATHERMAP","initialState","countryCode","city","temp","description","windSpeed","errMessage","putWeatherServer","state","action","type","tempServer1","payload","main","toPrecision","windSpeedServer1","wind","speed","toFixed","localStorage","setItem","sys","country","name","weather","tempServer2","data","windSpeedServer2","wind_spd","country_code","city_name","err","error","message"],"mappings":"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","sourcesContent":["import {\n  ERR_MESSAGE,\n  PUT_WEATHER_SERVER_WEATHERBIT,\n  PUT_WEATHER_SERVER_OPENWEATHERMAP,\n} from \"../actions/constants\";\n\n// const initialState = {\n//   countryCode: localStorage.getItem(\"countryCode\") || \"\",\n//   city: localStorage.getItem(\"city\") || \"\",\n//   temp: localStorage.getItem(\"temp\") || \"\",\n//   description: localStorage.getItem(\"description\") || \"\",\n//   windSpeed: localStorage.getItem(\"windSpeed\") || \"\",\n//   errMessage: \"\",\n// };\n\nconst initialState = {\n  countryCode: \"\",\n  city: \"\",\n  temp: \"\",\n  description: \"\",\n  windSpeed: \"\",\n  errMessage: \"\",\n};\n\nconst putWeatherServer = (state = initialState, action) => {\n  switch (action.type) {\n    case PUT_WEATHER_SERVER_OPENWEATHERMAP:\n      const tempServer1 = `${action.payload.main.temp.toPrecision(2)} 째C`;\n      const windSpeedServer1 = `${action.payload.wind.speed.toFixed(2)} m/s`;\n      localStorage.setItem(\"countryCode\", action.payload.sys.country);\n      localStorage.setItem(\"city\", action.payload.name);\n      localStorage.setItem(\"temp\", tempServer1);\n      localStorage.setItem(\n        \"description\",\n        action.payload.weather[0].description\n      );\n      localStorage.setItem(\"windSpeed\", windSpeedServer1);\n      return {\n        ...state,\n        countryCode: action.payload.sys.country,\n        city: action.payload.name,\n        temp: tempServer1,\n        description: action.payload.weather[0].description,\n        windSpeed: windSpeedServer1,\n        errMessage: \"\",\n      };\n    case PUT_WEATHER_SERVER_WEATHERBIT:\n      const tempServer2 = `${action.payload.data[0].temp.toPrecision(2)} 째C`;\n      const windSpeedServer2 = `${action.payload.data[0].wind_spd.toFixed(2)} m/s`;\n      localStorage.setItem(\"countryCode\", action.payload.data[0].country_code);\n      localStorage.setItem(\"city\", action.payload.data[0].city_name);\n      localStorage.setItem(\"temp\", tempServer2);\n      localStorage.setItem(\n        \"description\",\n        action.payload.data[0].weather.description\n      );\n      localStorage.setItem(\"windSpeed\", windSpeedServer2);\n      return {\n        ...state,\n        countryCode: action.payload.data[0].country_code,\n        city: action.payload.data[0].city_name,\n        temp: tempServer2,\n        description: action.payload.data[0].weather.description,\n        windSpeed: windSpeedServer2,\n        errMessage: \"\",\n      };\n    case ERR_MESSAGE:\n      return {\n        ...state,\n        errMessage: action.err.error || action.err.message,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default putWeatherServer;\n"]},"metadata":{},"sourceType":"module"}