{"ast":null,"code":"import _regeneratorRuntime from \"/home/test/work/allProjects/node_modules/next/node_modules/@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(workerLoadData1),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(watchLoadData1);\n\nimport { takeEvery, put, call, select } from \"redux-saga/effects\";\nimport { putCharacters } from \"../actions/loadAndPutCharacters\";\nimport { LOAD_CHARACTERS } from \"../actions/constants\";\nimport { showLoader, hideLoader } from '../actions/loader';\n\nvar fetchData = function fetchData(page, status, species, gender) {\n  return fetch(\"https://rickandmortyapi.com/api/character?page=\".concat(page)).then(function (respone) {\n    return respone.json();\n  });\n};\n\nfunction workerLoadData1(_ref) {\n  var page, status, species, gender, data;\n  return _regeneratorRuntime.wrap(function workerLoadData1$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          page = _ref.page;\n          _context.next = 3;\n          return put(showLoader());\n\n        case 3:\n          _context.next = 5;\n          return select(function (state) {\n            return state.filterCharacters.status;\n          });\n\n        case 5:\n          status = _context.sent;\n          _context.next = 8;\n          return select(function (state) {\n            return state.filterCharacters.species;\n          });\n\n        case 8:\n          species = _context.sent;\n          _context.next = 11;\n          return select(function (state) {\n            return state.filterCharacters.gender;\n          });\n\n        case 11:\n          gender = _context.sent;\n          _context.next = 14;\n          return call(fetchData, page, status, species, gender);\n\n        case 14:\n          data = _context.sent;\n          _context.next = 17;\n          return put(putCharacters(data));\n\n        case 17:\n          _context.next = 19;\n          return put(putCharacters(data));\n\n        case 19:\n          _context.next = 21;\n          return put(hideLoader());\n\n        case 21:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n}\n\nexport default function watchLoadData1() {\n  return _regeneratorRuntime.wrap(function watchLoadData1$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeEvery(LOAD_CHARACTERS, workerLoadData1);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}","map":{"version":3,"sources":["/home/test/work/allProjects/redux/Rick and Morty/generators/saga.js"],"names":["workerLoadData1","watchLoadData1","takeEvery","put","call","select","putCharacters","LOAD_CHARACTERS","showLoader","hideLoader","fetchData","page","status","species","gender","fetch","then","respone","json","state","filterCharacters","data"],"mappings":";;oDAWUA,e;qDAWeC,c;;AAtBzB,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+BC,MAA/B,QAA6C,oBAA7C;AACA,SAASC,aAAT,QAA8B,iCAA9B;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,SAAQC,UAAR,EAAoBC,UAApB,QAAqC,mBAArC;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,IAAD,EAAOC,MAAP,EAAeC,OAAf,EAAwBC,MAAxB,EAAmC;AACnD,SAAOC,KAAK,0DACwCJ,IADxC,EAAL,CAELK,IAFK,CAEA,UAACC,OAAD;AAAA,WAAaA,OAAO,CAACC,IAAR,EAAb;AAAA,GAFA,CAAP;AAGD,CAJD;;AAMA,SAAUlB,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4BW,UAAAA,IAA5B,QAA4BA,IAA5B;AAAA;AACE,iBAAMR,GAAG,CAACK,UAAU,EAAX,CAAT;;AADF;AAAA;AAEiB,iBAAMH,MAAM,CAAC,UAACc,KAAD;AAAA,mBAAWA,KAAK,CAACC,gBAAN,CAAuBR,MAAlC;AAAA,WAAD,CAAZ;;AAFjB;AAEQA,UAAAA,MAFR;AAAA;AAGkB,iBAAMP,MAAM,CAAC,UAACc,KAAD;AAAA,mBAAWA,KAAK,CAACC,gBAAN,CAAuBP,OAAlC;AAAA,WAAD,CAAZ;;AAHlB;AAGQA,UAAAA,OAHR;AAAA;AAIiB,iBAAMR,MAAM,CAAC,UAACc,KAAD;AAAA,mBAAWA,KAAK,CAACC,gBAAN,CAAuBN,MAAlC;AAAA,WAAD,CAAZ;;AAJjB;AAIQA,UAAAA,MAJR;AAAA;AAKe,iBAAMV,IAAI,CAACM,SAAD,EAAYC,IAAZ,EAAkBC,MAAlB,EAA0BC,OAA1B,EAAmCC,MAAnC,CAAV;;AALf;AAKQO,UAAAA,IALR;AAAA;AAME,iBAAMlB,GAAG,CAACG,aAAa,CAACe,IAAD,CAAd,CAAT;;AANF;AAAA;AAOE,iBAAMlB,GAAG,CAACG,aAAa,CAACe,IAAD,CAAd,CAAT;;AAPF;AAAA;AAQE,iBAAMlB,GAAG,CAACM,UAAU,EAAX,CAAT;;AARF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWA,eAAe,SAAUR,cAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACb,iBAAMC,SAAS,CAACK,eAAD,EAAkBP,eAAlB,CAAf;;AADa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { takeEvery, put, call, select } from \"redux-saga/effects\";\nimport { putCharacters } from \"../actions/loadAndPutCharacters\";\nimport { LOAD_CHARACTERS } from \"../actions/constants\";\nimport {showLoader, hideLoader} from '../actions/loader'\n\nconst fetchData = (page, status, species, gender) => {\n  return fetch(\n    `https://rickandmortyapi.com/api/character?page=${page}`\n  ).then((respone) => respone.json());\n};\n\nfunction* workerLoadData1({ page }) {\n  yield put(showLoader());\n  const status = yield select((state) => state.filterCharacters.status);\n  const species = yield select((state) => state.filterCharacters.species);\n  const gender = yield select((state) => state.filterCharacters.gender);\n  const data = yield call(fetchData, page, status, species, gender);\n  yield put(putCharacters(data));\n  yield put(putCharacters(data));\n  yield put(hideLoader());\n}\n\nexport default function* watchLoadData1() {\n  yield takeEvery(LOAD_CHARACTERS, workerLoadData1);\n}\n"]},"metadata":{},"sourceType":"module"}