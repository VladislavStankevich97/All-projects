{"ast":null,"code":"import { takeEvery, put, call, select } from \"redux-saga/effects\";\nimport { putCharacters } from \"../actions/loadAndPutCharacters\";\nimport { LOAD_CHARACTERS } from \"../actions/constants\";\nimport { showLoader, hideLoader } from '../actions/loader';\n\nconst fetchData = (page, status, species, gender) => {\n  return fetch(`https://rickandmortyapi.com/api/character?page=${page}\n      ${status ? `&status=${status}` : \"\"}\n      ${species ? `&species=${species}` : \"\"}\n      ${gender ? `&gender=${gender}` : \"\"}`).then(respone => respone.json());\n};\n\nfunction* workerLoadData({\n  page\n}) {\n  yield put(showLoader());\n  const status = yield select(state => state.filterCharacters.status);\n  const species = yield select(state => state.filterCharacters.species);\n  const gender = yield select(state => state.filterCharacters.gender);\n  const data = yield call(fetchData, page, status, species, gender);\n  yield put(putCharacters(data));\n  yield put(putCharacters(data));\n  yield put(hideLoader());\n}\n\nexport default function* watchLoadData() {\n  yield takeEvery(LOAD_CHARACTERS, workerLoadData);\n}","map":{"version":3,"sources":["/home/test/work/allProjects/Rick and Morty/src/redux/generators/saga.js"],"names":["takeEvery","put","call","select","putCharacters","LOAD_CHARACTERS","showLoader","hideLoader","fetchData","page","status","species","gender","fetch","then","respone","json","workerLoadData","state","filterCharacters","data","watchLoadData"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+BC,MAA/B,QAA6C,oBAA7C;AACA,SAASC,aAAT,QAA8B,iCAA9B;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,SAAQC,UAAR,EAAoBC,UAApB,QAAqC,mBAArC;;AAEA,MAAMC,SAAS,GAAG,CAACC,IAAD,EAAOC,MAAP,EAAeC,OAAf,EAAwBC,MAAxB,KAAmC;AACnD,SAAOC,KAAK,CACT,kDAAiDJ,IAAK;AAC3D,QAAQC,MAAM,GAAI,WAAUA,MAAO,EAArB,GAAyB,EAAG;AAC1C,QAAQC,OAAO,GAAI,YAAWA,OAAQ,EAAvB,GAA2B,EAAG;AAC7C,QAAQC,MAAM,GAAI,WAAUA,MAAO,EAArB,GAAyB,EAAG,EAJ5B,CAAL,CAKLE,IALK,CAKCC,OAAD,IAAaA,OAAO,CAACC,IAAR,EALb,CAAP;AAMD,CAPD;;AASA,UAAUC,cAAV,CAAyB;AAAER,EAAAA;AAAF,CAAzB,EAAmC;AACjC,QAAMR,GAAG,CAACK,UAAU,EAAX,CAAT;AACA,QAAMI,MAAM,GAAG,MAAMP,MAAM,CAAEe,KAAD,IAAWA,KAAK,CAACC,gBAAN,CAAuBT,MAAnC,CAA3B;AACA,QAAMC,OAAO,GAAG,MAAMR,MAAM,CAAEe,KAAD,IAAWA,KAAK,CAACC,gBAAN,CAAuBR,OAAnC,CAA5B;AACA,QAAMC,MAAM,GAAG,MAAMT,MAAM,CAAEe,KAAD,IAAWA,KAAK,CAACC,gBAAN,CAAuBP,MAAnC,CAA3B;AACA,QAAMQ,IAAI,GAAG,MAAMlB,IAAI,CAACM,SAAD,EAAYC,IAAZ,EAAkBC,MAAlB,EAA0BC,OAA1B,EAAmCC,MAAnC,CAAvB;AACA,QAAMX,GAAG,CAACG,aAAa,CAACgB,IAAD,CAAd,CAAT;AACA,QAAMnB,GAAG,CAACG,aAAa,CAACgB,IAAD,CAAd,CAAT;AACA,QAAMnB,GAAG,CAACM,UAAU,EAAX,CAAT;AACD;;AAED,eAAe,UAAUc,aAAV,GAA0B;AACvC,QAAMrB,SAAS,CAACK,eAAD,EAAkBY,cAAlB,CAAf;AACD","sourcesContent":["import { takeEvery, put, call, select } from \"redux-saga/effects\";\nimport { putCharacters } from \"../actions/loadAndPutCharacters\";\nimport { LOAD_CHARACTERS } from \"../actions/constants\";\nimport {showLoader, hideLoader} from '../actions/loader'\n\nconst fetchData = (page, status, species, gender) => {\n  return fetch(\n    `https://rickandmortyapi.com/api/character?page=${page}\n      ${status ? `&status=${status}` : \"\"}\n      ${species ? `&species=${species}` : \"\"}\n      ${gender ? `&gender=${gender}` : \"\"}`\n  ).then((respone) => respone.json());\n};\n\nfunction* workerLoadData({ page }) {\n  yield put(showLoader());\n  const status = yield select((state) => state.filterCharacters.status);\n  const species = yield select((state) => state.filterCharacters.species);\n  const gender = yield select((state) => state.filterCharacters.gender);\n  const data = yield call(fetchData, page, status, species, gender);\n  yield put(putCharacters(data));\n  yield put(putCharacters(data));\n  yield put(hideLoader());\n}\n\nexport default function* watchLoadData() {\n  yield takeEvery(LOAD_CHARACTERS, workerLoadData);\n}\n"]},"metadata":{},"sourceType":"module"}